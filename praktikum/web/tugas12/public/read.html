<html>
    <body>
        <h1>Data User</h1>
        <table border="1">
            <thead>
                <tr>
                    <th>Nama</th>
                    <th>NRP</th>
                    <th>Kelas</th>
                    <th>Gender</th>
                    <th>Agama</th>
                    <th>Tempat Lahir</th>
                    <th>Tanggal Lahir</th>
                    <th>Alamat</th>
                    <th>SD</th>
                    <th>SMP</th>
                    <th>SMA</th>
                    <th>Email</th>
                    <th>Homepage</th>
                    <th>Hobi</th>
                    <th>Interest</th>
                </tr>
            </thead>
            <tbody id="data-table">
                <!-- data akan diisi disini --> 
            </tbody>
        </table>
        <br>
        <button onclick="window.location.href='index.html'">Back</button>

        <script>
            fetch('/result')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('network error');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Fetched data:', data); 
                    const tableBody = document.getElementById('data-table');
                    data.forEach(user => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${user.nama}</td>
                            <td>${user.nrp}</td>
                            <td>${user.kelas}</td>
                            <td>${user.gender}</td>
                            <td>${user.agama}</td>
                            <td>${user.tempat_lahir}</td>
                            <td>${user.tanggal_lahir}</td>
                            <td>${user.alamat}</td>
                            <td>${user.sd}</td>
                            <td>${user.smp}</td>
                            <td>${user.sma}</td>
                            <td>${user.email}</td>
                            <td>${user.homepage}</td>
                            <td>${user.hobi}</td>
                            <td>${user.interest_comma}</td>
                        `;
                        tableBody.appendChild(row);
                    });
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        </script>
    </body>
</html>